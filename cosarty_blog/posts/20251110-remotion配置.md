---
tag:
  - æŠ€å·§
category:
  - è¿ç»´
date: 2025-11-10
---

# remotion é…ç½®

## ä¸´æ—¶æ¸²æŸ“è·¯åŠ²

### mac
æ¸…ç†æ¸²æŸ“ç¼“å­˜è·¯å¾„

echo $TMPDIR

`/var/folders/zm/kqvzg_x95flgx9ms29x0clj80000gn/T/`

ä¸‹é¢æ‰€æœ‰çš„remotionæ–‡ä»¶å¤¹éƒ½æ˜¯


### linux
åœ¨ Linux ç³»ç»Ÿä¸Šï¼Œçš„ remotion-\<hash> ä¸´æ—¶æ¸²æŸ“æ–‡ä»¶å¤¹å‡ ä¹æ€»æ˜¯ä½äº /tmp ç›®å½•ä¸­ã€‚

è¿™æ˜¯ Linux ç³»ç»Ÿå¤„ç†ä¸´æ—¶æ–‡ä»¶çš„æ ‡å‡†ä½ç½®ï¼ŒRemotion (åŠå…¶ä½¿ç”¨çš„ Puppeteer) é»˜è®¤ä¼šéµå¾ªè¿™ä¸ªè§„èŒƒã€‚

ğŸ“ é»˜è®¤è·¯å¾„
/tmp/remotion-\<hash>
ä¸¤ç§ä¸»è¦æƒ…å†µ
æœ€å¸¸è§æƒ…å†µ (é»˜è®¤): è·¯å¾„å°±æ˜¯ /tmpã€‚æ‚¨å¯ä»¥åœ¨æ¸²æŸ“è¿›è¡Œæ—¶ï¼Œé€šè¿‡æ–‡ä»¶ç®¡ç†å™¨æˆ–ç»ˆç«¯è®¿é—® cd /tmp æ¥æŸ¥çœ‹è¿™ä¸ªæ–‡ä»¶å¤¹ã€‚

å¦‚æœè®¾ç½®äº† TMPDIR å˜é‡ (è¾ƒå°‘è§): åœ¨æŸäº›æœåŠ¡å™¨æˆ–ç‰¹å®šé…ç½®ä¸­ï¼Œç³»ç»Ÿç®¡ç†å‘˜å¯èƒ½ä¼šé€šè¿‡è®¾ç½® TMPDIR ç¯å¢ƒå˜é‡æ¥æŒ‡å®šä¸€ä¸ªä¸åŒçš„ä¸´æ—¶æ–‡ä»¶ä½ç½® (ä¾‹å¦‚ /var/tmp æˆ–æŸä¸ªæŒ‚è½½ç‚¹)ã€‚

æ‚¨å¯ä»¥åœ¨ç»ˆç«¯ä¸­è¿è¡Œ echo $TMPDIR æ¥æ£€æŸ¥è¿™ä¸ªå˜é‡æ˜¯å¦è¢«è®¾ç½®ã€‚

å¦‚æœå®ƒæœ‰è¾“å‡º (ä¾‹å¦‚ /home/user/my-temp)ï¼Œé‚£ä¹ˆ remotion-\<hash> æ–‡ä»¶å¤¹å°±ä¼šåœ¨é‚£ä¸ªè·¯å¾„ä¸‹ã€‚

å¦‚æœå®ƒæ²¡æœ‰è¾“å‡º (ä¸€ç‰‡ç©ºç™½)ï¼Œé‚£ä¹ˆå°±ä½¿ç”¨é»˜è®¤çš„ /tmpã€‚


### è®¾ç½®ä¸´æ—¶æ¸²æŸ“æ–‡ä»¶å¤¹è·¯å¾„
TMPDIR=[æ‚¨å¸Œæœ›çš„ç»å¯¹è·¯å¾„] npx remotion render [æ‚¨çš„é¡¹ç›®å…¥å£] [æ‚¨çš„åˆæˆID] [è¾“å‡ºæ–‡ä»¶å]


## æ–‡å­—é—®é¢˜

linux ä¸‹é¢ä¸­æ–‡ä¹±ç  [æ•™ç¨‹](https://www.remotion.dev/docs/docker#japanese-chinese-korean-etc)

```bash
apt-get install fonts-noto-color-emoji

apt-get install fonts-noto-cjk
```

## é…ç½®ç¤ºæ„

```javascript
import {renderMedia, selectComposition} from '@remotion/renderer';
 
const compositionId = 'ListenexPodcastAudio';
 

const bundleLocation = './build';
 
const inputProps = {
  title: '1111',
};
 
const composition = await selectComposition({
  serveUrl: bundleLocation,
  id: compositionId,
  // inputProps,
});
 
await renderMedia({
  composition,
  serveUrl: bundleLocation,
  codec: 'h264',
  // codec: 'prores',
  outputLocation: `out/${compositionId}11.mp4`,
  // inputProps,
  hardwareAcceleration: 'if-possible',
   verbose: true,
  // frameRange: [0, 1000],
  concurrency:18,
  chromiumOptions:{
    gl:"angle",
    enableMultiProcessOnLinux:true,
  },
});

console.log('Render done!');

```
